<!DOCTYPE html>
<html lang="de">

<head>
    <meta charset="UTF-8"/>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="IE=edge, chrome=1">
    <title>ScreepCode - Projekte</title>
    <link rel="stylesheet" href="../css/w3css.css">
    <link rel="stylesheet" href="../css/w3css-theme.css">
    <link rel="stylesheet" href="../css/hover.css">
</head>

<body class="w3-theme-d5" style="height:100%; margin: 0;">
    <div class="w3-top" style="background-color:rgba(15, 15, 15, 0.6)">
        <div class="w3-bar">
            <div class="w3-bar-item w3-hide-small"><svg id="Logo" height="30" width="50"><text x="0" y="15" fill="Black">LOGO</text></svg></div>
            <a class="w3-bar-item w3-button w3-mobile" href="../../index.html">Home</a>
            <a class="w3-bar-item w3-button w3-mobile" href="Projekte.html">Projekte</a>
            <a class="w3-bar-item w3-button w3-mobile" href="Gear.html">Gear</a>
            <a class="w3-bar-item w3-button w3-mobile" href="Kontakt.html">Kontakt</a>
        </div>
    </div>
    
    <div id="projekte" class="w3-center" style="max-width:1500px; margin-left: auto; margin-right: auto; margin-top: 50px">
        <h1 class="w3-center">Projekte</h1>

        <p class="w3-margin">Hier findest du eine kleine Auswahl meiner öffentlichen Projekte</p>
        <div id="projektInfos" class="w3-row"></div>
    </div>

<script>
    (async function () {
        GitHubJSON = await fetch("../js/githubInfos.json")
        .then(response => response.json())
        .catch((error) => {
            console.error('Error:', error);
        });

        GitColors = await fetch("../js/githubcolor.json")
        .then(response => response.json())
        .catch((error) => {
             console.error('Error:', error); 
        });

        GitHubJSON.forEach(function(repo){
            var div = document.createElement("a")
            div.classList.add("w3-half", "hover")
            div.href = repo["html_url"]
            div.style = "text-decoration: none; color: inherit;"

            var card = document.createElement("div")
            card.classList.add("w3-card", "w3-margin", "w3-theme-d4", "w3-round-large")

            var header = document.createElement("header")
            header.classList.add("w3-container")
            var body = document.createElement("div")
            body.classList.add("w3-container", "w3-theme-d3")
            var footer = document.createElement("footer")
            footer.classList.add("w3-container", "w3-row")

            var heading = document.createElement("h2")
            heading.innerHTML = repo["name"]
            header.appendChild(heading)

            var description = document.createElement("p")
            description.innerHTML = repo["description"]
            body.appendChild(description)

            

            Object.keys(repo["languages"]).forEach(function(key) {
                var languageDiv = document.createElement("div")
                languageDiv.classList.add("w3-container", "w3-row", "w3-left")

                var language = document.createElement("h5")
                language.classList.add("w3-container", "w3-left")
                language.innerHTML = key
                language.style = "padding:0"

                var languagePoint = document.createElement("p")
                languagePoint.classList.add("w3-container", "w3-left")
                languagePoint.innerHTML = "●"
                languagePoint.style = "margin-top:4px; margin-bottom:0; font-size:x-large; color:" + GitColors[key]["color"]
                
                languageDiv.appendChild(languagePoint)
                languageDiv.appendChild(language)
                footer.appendChild(languageDiv)
            });

            card.appendChild(header)
            card.appendChild(body)
            card.appendChild(footer)
            div.appendChild(card)

            document.getElementById("projektInfos").appendChild(div)
        })

    })();

</script>

</body>
</html>